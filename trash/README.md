# Git Tracker - GitHub Webhook Tracker –¥–ª—è Telegram

ü§ñ Telegram –±–æ—Ç –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è GitHub webhook —Å–æ–±—ã—Ç–∏–π –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä—è–º–æ –≤ –≤–∞—à —á–∞—Ç.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ GitHub webhook —Å–æ–±—ã—Ç–∏–π (push, pull request, issue –∏ —Ç.–¥.)
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram —á–∞—Ç –∏–ª–∏ —Ñ–æ—Ä—É–º
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ webhook'–∞–º–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Telegram —Ñ–æ—Ä—É–º–æ–≤ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –ø–æ –≤–µ—Ç–∫–∞–º
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
- ‚úÖ gRPC –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–µ–∂–¥—É Python –±–æ—Ç–æ–º –∏ Go —Å–µ—Ä–≤–µ—Ä–æ–º

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

### Python —á–∞—Å—Ç—å (Telegram Bot)
- **bot/main.py** - –æ—Å–Ω–æ–≤–Ω–æ–π Telegram –±–æ—Ç –Ω–∞ aiogram —Å –∫–æ–º–∞–Ω–¥–∞–º–∏
- **bot/app.py** - Quart –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è GitHub webhook'–æ–≤
- **bot/db.py** - —Ä–∞–±–æ—Ç–∞ —Å MongoDB –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- **bot/handlers/** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞
- **bot/keyboards/** - –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –±–æ—Ç–∞

### Go —á–∞—Å—Ç—å (Webhook Server)
- **webhook_server/main.go** - –æ—Å–Ω–æ–≤–Ω–æ–π HTTP —Å–µ—Ä–≤–µ—Ä –¥–ª—è webhook'–æ–≤
- **webhook_server/handlers/** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ GitHub —Å–æ–±—ã—Ç–∏–π
- **webhook_server/dispatcher/** - –¥–∏—Å–ø–µ—Ç—á–µ—Ä –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π
- **webhook_server/grpc/** - gRPC –∫–ª–∏–µ–Ω—Ç –¥–ª—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ —Å Python –±–æ—Ç–æ–º

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
   ```bash
   git clone <repo-url>
   cd Project_telegram_bot
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª—ã –≤ –æ–±–µ–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö** (bot/ –∏ webhook_server/):
   ```bash
   cp bot/.env.example bot/.env
   cp webhook_server/.env.example webhook_server/.env
   ```

3. **–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª—ã** –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
   ```env
   TOKEN=your_telegram_bot_token
   URL=http://your-server:8080
   DB_URL=mongodb://localhost:27017
   ```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

#### Python —á–∞—Å—Ç—å

```bash
cd bot

# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
# Windows:
venv\Scripts\activate
# Linux/macOS:
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
python init_db.py
```

#### Go —á–∞—Å—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
cd webhook_server

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
go mod download

# –°–±–∏–ª–¥—å—Ç–µ –ø—Ä–æ–µ–∫—Ç
go build -o git-tracker
```

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞

```bash
cd bot
python main.py
```

–ë–æ—Ç –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω –≤ —Ä–µ–∂–∏–º–µ polling.

### –ó–∞–ø—É—Å–∫ webhook —Å–µ—Ä–≤–µ—Ä–∞ (Python)

```bash
cd bot
python app.py
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω –Ω–∞ `http://localhost:5000`

### –ó–∞–ø—É—Å–∫ Go webhook —Å–µ—Ä–≤–µ—Ä–∞

```bash
cd webhook_server
go run main.go
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω –Ω–∞ `http://localhost:8080`

## üìã –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- **/start** - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
- **/id** - –ü–æ–ª—É—á–∏—Ç—å ID –≤–∞—à–µ–≥–æ —á–∞—Ç–∞ (–Ω—É–∂–µ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è webhook)
- **/threadid** - –ü–æ–ª—É—á–∏—Ç—å ID –≤–µ—Ç–∫–∏ —Ñ–æ—Ä—É–º–∞ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Ñ–æ—Ä—É–º)

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### bot/.env
```env
# Telegram Bot Token –æ—Ç BotFather
TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11

# URL –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è webhook'–æ–≤
URL=http://your-domain.com:8080

# MongoDB connection string
DB_URL=mongodb://localhost:27017
```

#### webhook_server/.env
```env
# –ü–æ—Ä—Ç –¥–ª—è HTTP —Å–µ—Ä–≤–µ—Ä–∞
PORT=8080

# –ü–æ—Ä—Ç –¥–ª—è gRPC —Å–µ—Ä–≤–µ—Ä–∞
GRPC_PORT=50051

# URL Python –±–æ—Ç–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
BOT_URL=http://localhost:5000
```

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **MongoDB** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ webhook'–∞—Ö.

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
cd bot
python init_db.py
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ Webhooks

```json
{
  "_id": ObjectId,
  "webhook_name": "string",
  "url": "string",
  "author_id": number,
  "channel_id": number,
  "thread_id": "string",
  "secret": "string (optional)"
}
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ webhook URL'—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º
- –°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è MARKDOWN —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

## üêõ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ webhook

```bash
cd tests
python webhook_post.py
```

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### Python
- aiogram (Telegram bot framework)
- Quart (async web framework)
- pymongo (MongoDB client)
- python-dotenv (environment variables)

### Go
- grpc (gRPC framework)
- protobuf (message protocol)
- cobra (CLI framework)

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ —Å–æ–±—ã—Ç–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π output:

```
[INFO] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 12345 –Ω–∞—á–∞–ª —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
[ERROR] –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ 67890: ...
[DEBUG] Webhook –æ–±—Ä–∞–±–æ—Ç–∞–Ω —É—Å–ø–µ—à–Ω–æ –¥–ª—è URL https://...
```

## üê≥ Docker

### –ó–∞–ø—É—Å–∫ —Å Docker Compose

```bash
docker-compose -f Docker-compose.yaml up
```

## üîó GitHub Webhook –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Settings > Webhooks —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –ù–∞–∂–º–∏—Ç–µ "Add webhook"
3. –í—Å—Ç–∞–≤—å—Ç–µ URL –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç –±–æ—Ç–∞
4. –í—ã–±–µ—Ä–∏—Ç–µ Content type: `application/json`
5. –ù–∞–∂–º–∏—Ç–µ "Add webhook"

## ü§ù –ö–æ–Ω—Ç—Ä–∏–±—å—é—Ç–∏–Ω–≥

–ü—É–ª—å —Ä–µ–∫–≤–µ—Å—Ç—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è!

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

---

**–ê–≤—Ç–æ—Ä:** Git Tracker Team  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–°—Ç–∞—Ç—É—Å:** Active Development

